{% extends "base.html.twig" %}

{% block title %}Home{% endblock %}

{% block body %}
    <h1>Redovisning</h1>

    <h2 id="kmom01">kmom01</h2>
    <p>Jag har tidigare erfarenhet av objektorienterad programmering inom C#, Python och JavaScript. 
    Därför blir det något helt nytt att göra det i PHP för min del. Jag hoppas att man kan se vissa likheter 
    mellan hur man gör i PHP och till exempel JavaScript.</p>
    <p>Objekt är instanser av en klass. Objekt som skapas är mutable och kan därför förändras efter att 
    de är skapade. I PHP används operatorn "->" för att komma åt ett objekts properties och metoder.</p>
    <p>Än så länge är koden för uppgiften ganska simpel. Jag antar att den kommer bli mer komplicerad 
    desto djupare in i kursen vi går. Än så länge tycker jag koden är lik den vi JavaScript-kod vi hade i databas-kursen.</p>
    <p>Jag skummade fort igenom artikeln "PHP The Right Way". En av de viktigaste delarna tror jag är Coding 
    Practices. Där står det bland annat om designmönster och teckenkodning. Utöver det finns information om 
    hur PHP kan användas med databaser och templating.</p>
    <p>Min TIL denna vecka är man kan använda sig av Twig på fler sätt än vad jag visste om. Jag visste 
    inte att man kunde skapa block i Twig. Förut när jag använd Twig-filer så har jag lagt HTML-element 
    direkt. Utöver det har jag även lärt mig andra saker såklart, som några grunder inom objektorienterad programmering i PHP.</p>

    <h2 id="kmom02">kmom02</h2>
    <p>Denna vecka har vi gjort flera egna klasser. I objektorienterad programmering i PHP finns en del konstruktioner och 
    begrepp man bör känna till, bland annat arv, komposition, interface och trait. Arv används när man vill göra en specialiserad 
    version av en klass. Det används även ofta när det finns en speciell hierarki bland klasser. Ett exempel av det är att 
    klasserna Teacher och Student ärver från Person-klassen. Komposition är när en klass består av en annan klass där 
    komponenten inte kan existera utan ägaren. Ett exempel av det är mina CardGraphic som skapas inuti konstruktorn för 
    DeckOfCards. En interface fungerar som en lista med metoder som måste implementeras. När man sedan skapar en ny klass 
    kan man ange att den implementerar en interface. Det verkar ganska likt abstrakta klasser som vi pratat en del om i 
    kursen om objektorienterad Python. Traits används när man vill dela kod mellan klasser som inte har en hierarkisk 
    relation. En trait är en samling av metoder.</p>
    <p>Jag har inga speciella känslor för min implementation av uppgiften. Det är väl mest skönt att äntligen vara klar 
    med uppgiften. Jag tyckte uppgiften var för stor, plus att kursmomentet var under flera röda dagar, plus att jag 
    varit sjuk. Min implementation verkar funka som den ska så det är ju bra iallafall. Min styling blev inte så bra, 
    delvis för jag inte visste var jag skulle placera navbar på sidan för card och API/JSON. I efterhand har jag även 
    tänkt på att jag nog borde låtit alla klass-attribut vara protected eller privata och använt mig av get och set-metoder 
    för att nå och ändra värdena. Jag är dock inte säker på vad som är "best practice" när det gäller det i PHP då det 
    fortfarande är relativt nytt för mig.</p>
    <p>Att göra klassdiagram gick ganska bra. Jag gjorde en variant först men insåg att det inte stämde. Sen gjorde jag om 
    den, sparade och la in den på hemsidan och märkte att det inte stämde heller. Sen gjorde jag en sista variant, jag 
    hoppas att den stämmer. Jag är lite osäker på vissa relationer mellan olika klasser men annars så känns det bra.</p>
    <p>Min TIL denna vecka är att man använder "->" istället för "." som operator mellan objekt och dess metod eller 
    attribut. Det är något jag gjort fel minst 20 gånger detta kursmoment så jag hoppas jag kommer ihåg det nu. Jag har 
    även lärt mig att man tydligen kan spara egna objekt/klasser i session. Det var något man inte kunde göra i Flask i 
    Python. Jag lärde mig inte det förens efteråt dock så jag löste det genom att spara olika värden i en array i session 
    och sedan använda den som argument till en metod på min DeckOfCards för att återskapa kortleken.</p>

    <h2 id="kmom03">kmom03</h2>
    <p>Detta kursmoment har det handlat om att fortsätta i Symfony i PHP och skapa ett kortspel. Jag tyckte det var ganska 
    svårt att skapa flödesdiagram och pseudokod för uppgiften, delvis för att jag knappt gjort det innan. Däremot tyckte 
    jag att det var väldigt skönt att kunna använda de som hjälpmedel sen när jag började programmera spelet på riktigt. 
    Kortspelet jag gjorde var Tjugoett (som även rekommenderades). Jag gjorde några få ändringar och egna tolkningar när 
    jag tyckte reglerna var otydliga.</p>
    <p>Jag löste uppgiften genom att skapa en klass som jag döpte till CardGame21. Den klassen har attribut för spelarens 
    och bankirens CardHand-objekt, ett DeckOfCards-objekt, samt varsin bool som avgör ifall spelaren och bankiren har 
    stannat/nöjt sig. Med hjälp av dessa attribut kan jag styra vems tur det är. Med hjälp av decideWinner-metoden kan jag 
    visa upp i vyn vem som vunnit när både spelaren och bankirer har nöjt sig. Jag skapade fyra routes (om man räknar utan API/JSON), 
    det första är routen "game_play" där spelet tar plats, det andra är för att dra ett kort och sedan redirect till "game_play" 
    (även samma route för att låta datorn dra sina kort då jag anropar play-metoden i CardGame21-klassen och den där inne 
    hanterar vems tur det är). Min tredje route är för att spelaren ska kunna ange sig nöjd, sen blir det redirect till 
    "game_play". Fjärde routen är för att ta bort session-variabel och redirect för att kunna starta om spelet.</p>
    <p>Utöver den klassen byggde jag vidare på min CardHand-klass med en metod som returnerade antalet poäng korten i handen 
    är värda. Den metoden hanterade även essets "dynamiska" värde, alltså ifall ett ess ska vara värt 1 eller 14. Jag tyckte 
    reglerna var lite otydliga när det gällde ess, så jag gjorde bara att ifall man börjar med att dra ett ess så är handen 
    14. Om man sedan drar en kung, så blir esset 1 eftersom handen är värd mer än 21. Alltså blir handen då 1 + 13 = 14, 
    istället för 14 + 13 = 27. I min variant börjar alltså essen alltid som 14 men ändrar värde till 1 automatiskt när det 
    passar innehavaren. Jag hade kunnat göra istället så att spelaren fick välja om esset ska vara 1 eller 14 när kortet 
    dras, men jag var lite osäker som sagt och gjorde en egen tolkning. Jag är faktiskt väldigt nöjd med allt inom min 
    implementation förutom styling, det kunde gärna sett lite roligare/finare ut men det är som det är.</p>
    <p>Jag tycker det känns bra att programmera i Symfony. Det känns väldigt likt det jag fick göra i Flask i senaste 
    Python-kursen. PHP är inte min favorit precis när det kommer till programmeringsspråk men detta kursmoment har gått 
    väldigt bra faktiskt, så det känns lite bättre nu iallafall.</p>
    <p>Min TIL detta kursmoment är hur man skapar flödesdiagram och pseudokod, tidigare jag hade inte koll på 
    rekommenderad stil av pseudokod. Nu känner jag att jag blivit lite bättre på de sakerna iallafall, samt 
    lite bättre på att skapa egna klasser. Denna vecka har jag inte haft några problem med "->" istället 
    för "." mellan objekt och metod/attribut, så det är ett framsteg.</p>

    <h2 id="kmom04">kmom04</h2>
    <p>Detta kursmoment har handlat om att skapa enhetstester med PHPUnit. Jag tycker verktyget verkar väldigt bra och 
    lättanvänt. Att använda sig av det kändes även väldigt likt "unittest" vi använde oss av i objektorienterade 
    Python-kursen, vilket underlättade en del.</p>
    <p>Jag gjorde tester för mina klasser Card, CardGraphic, CardHand och DeckOfCards. Samtliga tester fick minst 97% kodtäckning 
    på "lines". På "functions and methods" fick alla tester 94% kodtäckning eller högre, förutom CardHand som fick 67% 
    (2/3 metoder). Jag är inte helt säker på varför det blev så lågt där för jag har gjort tester för alla 3 metoder. Jag satt 
    cirka en timme med att fixa den när jag märkte att den inte räknades, men jag lyckades inte så jag låter den vara.</p>
    <p>Jag tyckte min kod var ganska lätt att testa. Däremot hade jag säkert kunnat skriva om min kod för att göra den ännu 
    mer testbar. Jag ändrade inte min kod på något sätt.</p>
    <p>Jag tror absolut att testbar kod indikerar bra/snygg/ren kod. Det är väl inte helt avgörande, för det finns andra 
    saker att titta på också. Men om kod är lätt att testa, så är den troligtvis lätt att använda, vilket alltid är positivt. 
    En metod som är lätt att testa har ändå möjligheten att vara skriven på ett ineffektivt sätt, till exempel i form av 
    variabler med konstiga namn eller kod som inte är "DRY".</p>
    <p>Min TIL för detta kursmoment är hur lätt det är att generera dokumentation med PHPDoc både med och utan docblocks. 
    Jag har också lärt mig hur lätt det är att skapa simpla enhetstester med PHPUnit.</p>

    <h2 id="kmom05">kmom05</h2>
    <p>Detta kursmoment har handlat om att bygga upp en databas med hjälp av Doctrine och SQLite. Jag tyckte det var när 
    jag skulle komma i gång för jag trodde att man var tvungen att använda sig av MariaDB och jag var osäker på var jag 
    skulle titta för att förbereda det. Som tur var upptäckte jag efter ett tag att man inte behövde använda MariaDB, så 
    jag använde SQLite istället. Övningen var lätt att följa både med och utan videon.</p>
    <p>Jag tänkte en del på att skapa sidorna på ett sätt så att de känns sammanhängande och man lätt kan klicka sig runt. 
    Om man bortser från det fokuserade jag inte jättemycket på utseende, iallafall inte när det kommer till styling. Jag 
    stylade endast tabellerna jag använde för att visa upp information om böckerna.</p>
    <p>Jag tycker faktiskt om detta sätt att jobba med databas. Det var skönt att slippa skapa tabeller helt själv. Det 
    känns som att detta sätt passar bättre när man bara vill ha en simpel databas snabbt, som inte hanterar transaktioner 
    och mer avancerade funktioner. I vårt fall gjorde vi ju endast CRUD som jag skulle anse som simpla funktioner. Sen 
    misstänker jag att det även går att skapa mer avancerade saker också, vi har ju iallafall tittat lite fort på att 
    man kan bygga upp egna queries.</p>
    <p>Min uppfattning av ORM är att det är ett väldigt bra redskap som gör det smidigt om man gillar objektorienterad 
    programmering. Det var ganska skönt att inte ha massor sql-filer som vi hade i databas-kursen.</p>
    <p>Min TIL denna vecka är vad ORM är. Jag hade ingen aning att det finns program som fungerar som en mellanhand för 
    att kommunicera med en databas med objektorienterad programmering. Det är något jag gärna använder mer framöver.</p>

    <h2 id="kmom06">kmom06</h2>
    <p>Detta kursmoment har handlat om att börja använda sig av PhpMetrics och Scrutinizer för att hitta svaga punkter i 
    koden som man sedan kan fixa. Generellt skulle jag säga att jag föredrar Scrutinizer's information lite mer. Jag gillar 
    att man lätt ser ett betyg (1-10) på kodkvalitet och andel kodtäckning. PhpMetrics verkar visa upp mer information än 
    vad Scrutinizer gör. Än så länge har jag dock inte känt att jag haft någon användning för majoriteten av informationen 
    som PhpMetrics visar. Jag tror att den informationen skulle vara mer intressant om man jobbar på ett lite större projekt, 
    speciellt ifall det är flera utvecklare involverade.</p>
    <p>Jag hade svårt att fixa Scrutinizer i mitt projekt för jag hade .env-filen i min .gitignore-fil så den inte laddades 
    upp till mitt GitHub-repo. Den filen behövdes i repo:t så att Scrutinizer kunde använda sig av det, men det förstod inte 
    jag från början. Jag satt med det problemet någon timme innan jag till slut löste det. När jag väl fick Scrutinizer att 
    funka tyckte jag att det verkade väldigt bra. Badges var lätta att lägga till i en readme-fil på GitHub-repo:t. Efter 
    mitt första lyckade bygge fick jag 9.59/10 i kodkvalitet och 32% kodtäckning.</p>
    <p>Det finns många olika sätt att mäta kodkvalitet. Jag tror att vissa värden är viktigare att titta på än andra. Vissa 
    värden är mer till för att visa att någonting riskerar att få problem, till exempel "instability", men så länge man inte 
    längre utvecklar programmet/hemsidan och bygger på klasserna som en instabil klass är beroende av så kommer troligtvis 
    ingenting att hända. Då tycker jag att det är viktigare att fokusera på komplexitet och liknande värden som kan ha en 
    positiv påverkan på hastighet och läsbarhet.</p>
    <p>Min TIL denna vecka är att det finns fantastiska verktyg som PhpMetrics och Scrutinizer. Jag tror absolut att jag 
    kommer använda mig av Scrutinizer i framtiden, delvis för att det fungerar till andra språk också, såsom Python och 
    JavaScript. Jag har även lärt mig om många nya "asserts" som jag använt på mina Controller-tester.</p>

    <h2 id="kmom10">kmom10</h2>
    <p>Krav 1-3 innefattade hemsidans innehåll och utseende, samt att ordna information på GitHub-repot och generera dokumentation. Som projektets fokus valde jag att göra Blackjack med stöd för "bets" och upp till tre händer. En tidigare uppgift handlade om att implementera kortspelet 21, vilket gjorde att jag kunde återanvända en del av den koden i den här uppgiften. Ett tag tolkade jag "stöd för 1-3 händer" som stöd för att 1-3 spelare skulle kunna spela mot given, men jag insåg efter ett tag att det inte var rätt tänkt. Jag började med att skapa en ny Blackjack-klass för att hantera spelets funktioner och information. Den klassen använder sig av DeckOfCards-klassen från tidigare kursmoment, samt Dealer och Player som är nya klasser för projektet. Dealer-klassen har en instans av BlackjackHand och funktioner för att få information om dealerns hand, poäng och ifall den är nöjd. Player-klassen ärver från Dealer-klassen och har därför precis samma funktioner, plus funktioner relaterade till bland annat att satsa pengar, justera innehavet av pengar, samt se vilket namn spelaren har. BlackjackHand ärver från CardHand-klassen och enda skillnaden där är kortens värden i getPoints-funktionen, eftersom korten har olika värden i de olika kortspelen. Jag satsade tidigt på att implementera ett fåtal features medan jag jobbade på själva kärnan av spelet. Jag gjorde så för att inte jobba på för många olika saker samtidigt. Efter att en stor del av spelet fungerade implementerade jag bitvis nya features. En del av spelet jag skapade tidigt var stöd för flera händer. Något som däremot kom i efterhand när nästan hela spelet fungerade var stöd för att satsa pengar och utbetalning av potentiella vinster. På hemsidans about-sida har jag skrivit vad projektet handlar om, hur en match kan gå till, vem som vinner i olika lägen och hur mycket varje kort är värt.</p>
    <p>Hemsidans stil använder samma stylesheet jag haft i tidigare kursmoment eftersom det fortfarande är samma hemsida, men just sidor relaterade till projektet har annan styling. Det är givetvis vissa element bland sidorna som är likadana men jag har försökt ändra mycket så att det känns som att man gått in på en annan hemsida. Jag valde att ha en grön bakgrund för att efterlikna ett Blackjack-bord. Jag bytte font till en som heter Noto Sans Saurashtra, den tyckte jag var snygg och lättläst. Utöver det har jag stylat knappar så att de är rundade och blåa så att de lätt sticker ut från den gröna bakgrunden. Jag har även gjort några mindre ändringar på header och footer. Hemsidans navbar staplas numera horisontellt.</p>
    <p>För att uppnå hög kodtäckning har jag skapat enhetstester för klasserna Blackjack, BlackjackHand, Dealer och Player som alla används i Blackjack-spelet. Till kodtäckningsrapporten valde jag att utesluta alla filer förutom de jag nämnde innan, plus filer i Card-katalogen eftersom de till en viss del även används i detta projekt. Efter det blev min kodtäckning 99,1% enligt Scrutinizer.</p>
    <p>Jag valde att göra ett extrakrav, krav 4. Det handlade om att skapa ett JSON API för projektet. Jag gjorde 5 JSON routes, varav 3 är POST routes. Samtliga routes nås via länkar/knappar på "/proj/api". Den första routen visar information om den aktiva matchen med GET. Den andra routen nås med POST och drar ett kort till spelaren ifall den inte är nöjd, annars spelar given om den inte är klar. Den tredje routen nås med POST och sätter true på att spelaren är nöjd, om den inte redan är nöjd. Den fjärde routen är GET och visar alla kort kvar i kortleken, alla kort spelaren har och alla kort dealern har. Om det inte finns en aktiv match när man besöker någon av dessa fyra routes, visas i stället ett JSON-svar som förklarar felet. Den sista routen är POST och den skapar ett nytt spel med användarens input för namn, antal händer och bett per hand.</p>
    <p>Projektet tog längre tid än vad jag trodde. En anledning till det är att jag spred ut arbetet och jobbade mest med det på helgerna eftersom jag kom i gång med det efter att den originella deadlinen tog slut. Majoriteten av projektet gick bra, men vissa saker strulade. En av de sakerna var att jag råkade göra så att vinster betalades ut två gånger för att den relaterade funktionen anropades i en Controller-fil samt en Twig-fil. Som tur var löste jag det relativt lätt genom att dela upp funktionen så att jag i stället fick en funktion som tittar vem som är vinnare och en funktion som hanterar matchens resultat. Jag tycker projektet passade bra till denna kurs för att det testade att vi har koll på kunskaper från tidigare kursmoment. Några exempel av det är objektorienterad programmering i PHP, använda det för att skapa en hemsida med Symfony, skapa enhetstester och visa kodtäckning och kodkvalitet på GitHub via Scrutinizer.</p>
    <p>Jag känner att jag lärt mig mycket från denna kurs. Föreläsningarna och artiklarna har varit informativa och har gett en bra bas inför uppgifterna. Efter att jag väl lyckades fixa Scrutinizer till mitt repository har jag tyckt om att använda det och kan tänka mig använda det i framtiden. Det har även varit intressant att lära sig om ORM-teknik för databas. Däremot är inte PHP ett av mina favoritspråk så jag kommer förhoppningsvis inte använda mig av det speciellt mycket. Om någon jag kände ville lära sig om att skapa hemsidor i PHP hade jag rekommenderat denna kurs. Anledningen till det är att jag tycker den lär ut bra gällande objektorienterad PHP och även täcker andra bra kunskaper som enhetstestning och databas. Kursen får 7/10 av mig.</p>
{% endblock %}